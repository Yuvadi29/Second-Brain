{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 73, "column": 0}, "map": {"version":3,"sources":["file:///Users/adityatrivedi/Desktop/Dev/Second-Brain/second-brain/app/components/Citations.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\n\ninterface Citation {\n    id: number;\n    source: string;\n    chunkIndex: number;\n    preview: string;\n}\n\nexport default function Citations({ citations }: { citations: Citation[] }) {\n    const [expanded, setExpanded] = useState(false);\n\n    if (!citations || citations.length === 0) return null;\n\n    return (\n        <div className=\"mt-3 space-y-2\">\n            <button\n                onClick={() => setExpanded(!expanded)}\n                className=\"flex items-center gap-2 text-sm text-white/60 hover:text-white/90 transition-colors\"\n            >\n                <svg\n                    className={`w-4 h-4 transition-transform ${expanded ? \"rotate-90\" : \"\"}`}\n                    fill=\"none\"\n                    stroke=\"currentColor\"\n                    viewBox=\"0 0 24 24\"\n                >\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\n                </svg>\n                <span>{citations.length} source{citations.length > 1 ? \"s\" : \"\"}</span>\n            </button>\n\n            {expanded && (\n                <div className=\"space-y-2 animate-fadeIn\">\n                    {citations.map((citation) => (\n                        <div\n                            key={citation.id}\n                            className=\"p-3 rounded-lg bg-white/5 border border-white/10 hover:border-white/20 transition-colors\"\n                        >\n                            <div className=\"flex items-start gap-2\">\n                                <span className=\"text-xs font-mono text-blue-400 mt-0.5\">\n                                    [{citation.id}]\n                                </span>\n                                <div className=\"flex-1 min-w-0\">\n                                    <div className=\"text-sm font-medium text-white/90 truncate\" title={citation.source}>\n                                        {citation.source.split('/').pop() || citation.source}\n                                    </div>\n                                    <div className=\"text-xs text-white/50 mt-1\">\n                                        Chunk {citation.chunkIndex}\n                                    </div>\n                                    <div className=\"text-xs text-white/40 mt-2 line-clamp-2\">\n                                        {citation.preview}\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    ))}\n                </div>\n            )}\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAWe,SAAS,UAAU,EAAE,SAAS,EAA6B;IACtE,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IAEzC,IAAI,CAAC,aAAa,UAAU,MAAM,KAAK,GAAG,OAAO;IAEjD,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBACG,SAAS,IAAM,YAAY,CAAC;gBAC5B,WAAU;;kCAEV,8OAAC;wBACG,WAAW,CAAC,6BAA6B,EAAE,WAAW,cAAc,IAAI;wBACxE,MAAK;wBACL,QAAO;wBACP,SAAQ;kCAER,cAAA,8OAAC;4BAAK,eAAc;4BAAQ,gBAAe;4BAAQ,aAAa;4BAAG,GAAE;;;;;;;;;;;kCAEzE,8OAAC;;4BAAM,UAAU,MAAM;4BAAC;4BAAQ,UAAU,MAAM,GAAG,IAAI,MAAM;;;;;;;;;;;;;YAGhE,0BACG,8OAAC;gBAAI,WAAU;0BACV,UAAU,GAAG,CAAC,CAAC,yBACZ,8OAAC;wBAEG,WAAU;kCAEV,cAAA,8OAAC;4BAAI,WAAU;;8CACX,8OAAC;oCAAK,WAAU;;wCAAyC;wCACnD,SAAS,EAAE;wCAAC;;;;;;;8CAElB,8OAAC;oCAAI,WAAU;;sDACX,8OAAC;4CAAI,WAAU;4CAA6C,OAAO,SAAS,MAAM;sDAC7E,SAAS,MAAM,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,SAAS,MAAM;;;;;;sDAExD,8OAAC;4CAAI,WAAU;;gDAA6B;gDACjC,SAAS,UAAU;;;;;;;sDAE9B,8OAAC;4CAAI,WAAU;sDACV,SAAS,OAAO;;;;;;;;;;;;;;;;;;uBAfxB,SAAS,EAAE;;;;;;;;;;;;;;;;AAyB5C"}},
    {"offset": {"line": 212, "column": 0}, "map": {"version":3,"sources":["file:///Users/adityatrivedi/Desktop/Dev/Second-Brain/second-brain/app/components/TypingIndicator.tsx"],"sourcesContent":["\"use client\";\n\nexport default function TypingIndicator() {\n    return (\n        <div className=\"flex gap-1 items-center px-4 py-3\">\n            <div className=\"w-2 h-2 bg-white/40 rounded-full animate-bounce [animation-delay:-0.3s]\"></div>\n            <div className=\"w-2 h-2 bg-white/40 rounded-full animate-bounce [animation-delay:-0.15s]\"></div>\n            <div className=\"w-2 h-2 bg-white/40 rounded-full animate-bounce\"></div>\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAAA;;AAEe,SAAS;IACpB,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAI,WAAU;;;;;;0BACf,8OAAC;gBAAI,WAAU;;;;;;0BACf,8OAAC;gBAAI,WAAU;;;;;;;;;;;;AAG3B"}},
    {"offset": {"line": 255, "column": 0}, "map": {"version":3,"sources":["file:///Users/adityatrivedi/Desktop/Dev/Second-Brain/second-brain/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { UIMessage, useChat } from \"@ai-sdk/react\";\nimport { DefaultChatTransport } from \"ai\";\nimport { useState, useRef, useEffect } from \"react\";\nimport Markdown from \"react-markdown\";\nimport { Prism as SyntaxHighlighter } from 'react-syntax-highlighter';\nimport { vscDarkPlus } from 'react-syntax-highlighter/dist/esm/styles/prism';\nimport Citations from \"./components/Citations\";\nimport TypingIndicator from \"./components/TypingIndicator\";\n\ninterface Citation {\n  id: number;\n  source: string;\n  chunkIndex: number;\n  preview: string;\n}\n\nexport default function ChatPage() {\n  const [input, setInput] = useState(\"\");\n\n  const { messages, sendMessage, status } = useChat({\n    transport: new DefaultChatTransport({\n      api: '/api/chat'\n    }),\n  });\n\n  const bottomRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    bottomRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  }, [messages]);\n\n  const onSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!input.trim()) return;\n    await sendMessage({ text: input });\n    setInput(\"\");\n  };\n\n  const isLoading = status === \"submitted\" || status === \"streaming\";\n\n  return (\n    <div className=\"min-h-screen flex flex-col bg-gradient-to-br from-gray-900 via-black to-gray-900 text-white\">\n      <header className=\"px-6 py-4 border-b border-white/10 backdrop-blur-sm bg-black/20 sticky top-0 z-10\">\n        <div className=\"max-w-4xl mx-auto flex items-center justify-between\">\n          <h1 className=\"text-xl font-semibold flex items-center gap-2\">\n            <span className=\"text-2xl\">ðŸ§ </span>\n            Second Brain\n          </h1>\n          <div className=\"text-sm text-white/50\">\n            {messages.length > 0 && `${messages.length} message${messages.length > 1 ? 's' : ''}`}\n          </div>\n        </div>\n      </header>\n\n      <main className=\"flex-1 overflow-y-auto p-6\">\n        <div className=\"max-w-4xl mx-auto space-y-6\">\n          {messages.length === 0 && (\n            <div className=\"flex flex-col items-center justify-center min-h-[60vh] text-center animate-fadeIn\">\n              <div className=\"text-6xl mb-6\">ðŸ’¡</div>\n              <h2 className=\"text-3xl font-bold mb-3 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent\">\n                Welcome to Your Second Brain\n              </h2>\n              <p className=\"text-white/60 max-w-md mb-8\">\n                Ask me anything about your knowledge base. I'll search through your notes and provide answers with source citations.\n              </p>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3 w-full max-w-2xl\">\n                {[\n                  \"What are my recent notes about?\",\n                  \"Summarize my thoughts on...\",\n                  \"Find information about...\",\n                  \"What do I know about...\"\n                ].map((suggestion, i) => (\n                  <button\n                    key={i}\n                    onClick={() => setInput(suggestion)}\n                    className=\"px-4 py-3 rounded-xl bg-white/5 hover:bg-white/10 border border-white/10 hover:border-white/20 transition-all text-sm text-left\"\n                  >\n                    {suggestion}\n                  </button>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {messages.map((m, idx) => (\n            <div\n              key={m.id}\n              className={`flex ${m.role === \"user\" ? \"justify-end\" : \"justify-start\"} animate-fadeIn`}\n              style={{ animationDelay: `${idx * 0.05}s` }}\n            >\n              <div className={`max-w-[85%] ${m.role === \"user\" ? \"ml-auto\" : \"mr-auto\"}`}>\n                <div className={`px-5 py-3 rounded-2xl ${m.role === \"user\"\n                  ? \"bg-gradient-to-r from-blue-600 to-blue-500 text-white shadow-lg shadow-blue-500/20\"\n                  : \"bg-white/5 backdrop-blur-sm text-white border border-white/10\"\n                  }`}>\n                  {m.parts.map((p, i) => (\n                    p.type === \"text\" ? (\n                      <div key={i} className=\"prose prose-invert prose-sm max-w-none\">\n                        <Markdown\n                          components={{\n                            code({ node, inline, className, children, ...props }: any) {\n                              const match = /language-(\\w+)/.exec(className || '');\n                              return !inline && match ? (\n                                <SyntaxHighlighter\n                                  style={vscDarkPlus}\n                                  language={match[1]}\n                                  PreTag=\"div\"\n                                  className=\"rounded-lg my-2\"\n                                  {...props}\n                                >\n                                  {String(children).replace(/\\n$/, '')}\n                                </SyntaxHighlighter>\n                              ) : (\n                                <code className=\"bg-white/10 px-1.5 py-0.5 rounded text-sm\" {...props}>\n                                  {children}\n                                </code>\n                              );\n                            },\n                            p: ({ children }) => <p className=\"mb-2 last:mb-0\">{children}</p>,\n                            ul: ({ children }) => <ul className=\"list-disc list-inside mb-2 space-y-1\">{children}</ul>,\n                            ol: ({ children }) => <ol className=\"list-decimal list-inside mb-2 space-y-1\">{children}</ol>,\n                            li: ({ children }) => <li className=\"text-white/90\">{children}</li>,\n                            strong: ({ children }) => <strong className=\"font-semibold text-white\">{children}</strong>,\n                            a: ({ children, href }) => (\n                              <a href={href} className=\"text-blue-400 hover:text-blue-300 underline\" target=\"_blank\" rel=\"noopener noreferrer\">\n                                {children}\n                              </a>\n                            ),\n                          }}\n                        >\n                          {p.text}\n                        </Markdown>\n                      </div>\n                    ) : null\n                  ))}\n                </div>\n\n                {m.role === \"assistant\" && citationsMap[m.id] && (\n                  <Citations citations={citationsMap[m.id]} />\n                )}\n              </div>\n            </div>\n          ))}\n\n          {isLoading && (\n            <div className=\"flex justify-start animate-fadeIn\">\n              <div className=\"bg-white/5 backdrop-blur-sm rounded-2xl border border-white/10\">\n                <TypingIndicator />\n              </div>\n            </div>\n          )}\n\n          <div ref={bottomRef} />\n        </div>\n      </main>\n\n      <form onSubmit={onSubmit} className=\"p-4 border-t border-white/10 bg-black/40 backdrop-blur-md sticky bottom-0\">\n        <div className=\"max-w-4xl mx-auto flex gap-3\">\n          <input\n            value={input}\n            onChange={(e) => setInput(e.target.value)}\n            placeholder=\"Ask your Second Brain anything...\"\n            disabled={isLoading}\n            className=\"flex-1 px-5 py-3 rounded-xl bg-white/10 border border-white/20 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent placeholder:text-white/40 disabled:opacity-50 disabled:cursor-not-allowed transition-all\"\n          />\n          <button\n            type=\"submit\"\n            disabled={isLoading || !input.trim()}\n            className=\"px-6 py-3 rounded-xl bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-500 hover:to-blue-400 transition-all disabled:opacity-50 disabled:cursor-not-allowed font-medium shadow-lg shadow-blue-500/20 hover:shadow-blue-500/40\"\n          >\n            {isLoading ? (\n              <span className=\"flex items-center gap-2\">\n                <svg className=\"animate-spin h-4 w-4\" viewBox=\"0 0 24 24\">\n                  <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" fill=\"none\" />\n                  <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\" />\n                </svg>\n                Thinking...\n              </span>\n            ) : (\n              \"Send\"\n            )}\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}