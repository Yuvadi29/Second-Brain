{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 130, "column": 0}, "map": {"version":3,"sources":["file:///Users/adityatrivedi/Desktop/Dev/Second-Brain/second-brain/lib/chromaClient.ts"],"sourcesContent":["\"use server\";\n\nimport { ChromaClient } from \"chromadb\";\nimport dotenv from \"dotenv\";\nimport { OpenAIEmbeddingFunction } from \"@chroma-core/openai\";\n\ndotenv.config();\n\nconst OPENAI_KEY = process.env.OPENAI_API_KEY;\nconst CHROMA_URL = process.env.CHROMA_URL || \"http://localhost:8000\";\n\nconst embeddingFunction = new OpenAIEmbeddingFunction({\n    apiKey: OPENAI_KEY,\n    modelName: 'text-embedding-3-small',\n});\n\nexport const chromaClient = new ChromaClient({\n    path: CHROMA_URL,\n});\n\nexport async function getOrCreateCollection(name: string) {\n    try {\n        const collection = await chromaClient.getOrCreateCollection({\n            name,\n            embeddingFunction\n        });\n        return collection;\n    } catch (error) {\n        console.error(\"Error getting/creating chroma Collection: \", error);\n        throw error;\n    }\n}"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;;;;;;AAEA,kJAAM,CAAC,MAAM;AAEb,MAAM,aAAa,QAAQ,GAAG,CAAC,cAAc;AAC7C,MAAM,aAAa,QAAQ,GAAG,CAAC,UAAU,IAAI;AAE7C,MAAM,oBAAoB,IAAI,0LAAuB,CAAC;IAClD,QAAQ;IACR,WAAW;AACf;AAEO,MAAM,eAAe,IAAI,+JAAY,CAAC;IACzC,MAAM;AACV;AAEO,eAAe,sBAAsB,IAAY;IACpD,IAAI;QACA,MAAM,aAAa,MAAM,aAAa,qBAAqB,CAAC;YACxD;YACA;QACJ;QACA,OAAO;IACX,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,8CAA8C;QAC5D,MAAM;IACV;AACJ;;;IAfa;IAIS;;AAJT,iPAAA;AAIS,iPAAA"}},
    {"offset": {"line": 178, "column": 0}, "map": {"version":3,"sources":["file:///Users/adityatrivedi/Desktop/Dev/Second-Brain/second-brain/app/api/inspect/route.ts"],"sourcesContent":["import { chromaClient } from \"../../../lib/chromaClient\";\n\nexport async function GET(req: Request) {\n    const { searchParams } = new URL(req?.url);\n    const collectionName = searchParams?.get(\"collection\");\n\n    if (!collectionName) {\n        return Response?.json({\n            error: \"Missing Collection\"\n        }, {\n            status: 400\n        });\n\n    }\n\n    try {\n        const collection = await chromaClient?.getCollection({ name: collectionName });\n        const result = await collection?.get({ include: [\"documents\", \"documents\"] });\n\n        return Response?.json(result, { status: 200 });\n    } catch (error) {\n        console.error(error);\n        return Response.json({ error: \"Failed to inspect\" }, { status: 500 });\n    }\n}"],"names":[],"mappings":";;;;AAAA;;AAEO,eAAe,IAAI,GAAY;IAClC,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,KAAK;IACtC,MAAM,iBAAiB,cAAc,IAAI;IAEzC,IAAI,CAAC,gBAAgB;QACjB,OAAO,UAAU,KAAK;YAClB,OAAO;QACX,GAAG;YACC,QAAQ;QACZ;IAEJ;IAEA,IAAI;QACA,MAAM,aAAa,MAAM,qIAAY,EAAE,cAAc;YAAE,MAAM;QAAe;QAC5E,MAAM,SAAS,MAAM,YAAY,IAAI;YAAE,SAAS;gBAAC;gBAAa;aAAY;QAAC;QAE3E,OAAO,UAAU,KAAK,QAAQ;YAAE,QAAQ;QAAI;IAChD,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC;QACd,OAAO,SAAS,IAAI,CAAC;YAAE,OAAO;QAAoB,GAAG;YAAE,QAAQ;QAAI;IACvE;AACJ"}}]
}